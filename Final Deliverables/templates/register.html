{% extends "layout.html" %}
{% block title %}Register{% endblock %}

{% block head %}
{{ super() }}
{% endblock %}

<body>
  {% block content %}
  {{ super() }}
  
  <div class="row g-0 align-items-top" style="background-color:#e7e2fe;height:670px;">
    <div class="col-md-2">
    </div>
    
    <div class="col-md-4" style="margin-left:220px;bottom:-10px;">
      <div class="card-body ">
        <form method="post">
          <!-- Username input -->
          <div class="form-outline mt-2">
            <input type="text" id="name" placeholder="Enter Your Name" name="name" class="form-control"
              required />
          </div>

          <!-- Email input -->
          <div class="form-outline mt-2">
            <input type="email" id="email" placeholder="Enter the Email ID" name="email" class="form-control" required />
          </div>

          <!-- Mobile input -->
          <div class="form-outline mt-2">
            <input type="text" id="phone" placeholder="Enter 10-digit mobile number" name="phone" class="form-control"
              required />
          </div>

          <!-- Age input -->
          <div class="form-outline mt-2">
            <input type="integer" id="age" placeholder="Enter Your age" name="age" class="form-control" required />
          </div>
          
          <div class="form-outline mt-2">
            <label class="form-label" for="sex">Choose your Gender</label>
            <select name="gender" id="gender" name="gender" class="form-control">
              <option value="Male" selected>Male</option>
              <option value="Female">Female</option>
              
            </select>
           <!-- Blood Group input -->
           <div class="form-outline mt-2">
            <label class="form-label" for="blood">Choose your blood group</label>
            <select name="blood" id="blood" name="blood" class="form-control">
              <option value="A Positive" selected>A Positive</option>
              <option value="B Positive">B Positive</option>
              <option value="AB Positive">AB Positive</option>
              <option value="O Negative">O Negative</option>
              <option value="A Negative">A Negative</option>
              <option value="B Negative">B Negative</option>
              <option value="AB Negative">AB Negative</option>
              <option value="O Positive">O Positive</option>
            </select>
           
          </div>

          <!--Address input -->
          <div class="form-outline mt-2">
           
              <textarea class="form-control" id="address" name="addess" rows="3" placeholder="Enter your address" required ></textarea>
          
            <label class="form-label" for="infect">Enter your address</label>
          </div>

         
          <!-- Password input -->
          <div class="form-outline mt-2">
            <input type="password" id="password" placeholder="Enter Password" name="password" class="form-control" required />
          </div>

           <!-- Confirm Password input -->
          <div class="form-outline mt-2">
              <input type="password" id="cpassword" placeholder="Again Enter the Password" name="cpassword" class="form-control" required />
            </div><br>
            <!-- Submit button -->
            <button id="register" class="btn btn-primary btn-block">Submit</button>
          </div>
        </form>

      </div>
    </div>
    <div class="col-md-4 mt-4">
        {% if messages %}
        <div class="alert alert-info alert-dismissible fade show " role="alert">
          <span>{{ messages.message }}</span>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        {% endif %}
    </div>
  </div>

  {% endblock %}
</body>
{% block js%}
{{ super() }}
<script>
  $(document).ready(function () {
    $('#register').on('click', function (event) {

      var postData = {
        'username': $('#username').val(),
        'email': $('#email').val(),
        'mobile': $('#mobile').val(),
        'city': $('#city').val(),
        'infect': $('#infect').val(),
        'blood': $('#blood').val(),
        'passw': $('#passw').val(),
      };
      $.ajax({
        beforeSend: function (xhrObj) {
          xhrObj.setRequestHeader("Content-Type", "application/json");
          xhrObj.setRequestHeader("Accept", "application/json");
        },
        type: "POST",
        url: "/register",
        dataType: "json",
        contentType: "application/json; charset=utf-8",
        data: JSON.stringify(postData),
      })
        .done(function (data) {
        });
      event.preventDefault();
    });
  });
</script>
{% endblock %}